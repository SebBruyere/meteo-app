(this["webpackJsonpmeteo-app"]=this["webpackJsonpmeteo-app"]||[]).push([[0],{24:function(e,t,a){e.exports=a(66)},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),i=(a(29),a(23)),l=(a(30),a(2)),s=a(3),u=a(6),h=a(8),m=a(7);a(31);var p=function(e){return r.a.createElement("div",{className:"component-search-input"},r.a.createElement("input",{onKeyDown:e.keydown}))};var d=function(e){return r.a.createElement("div",{className:"mt-5 mb-5"},r.a.createElement("h1",null,e.weatherData.name,"\xa0",e.weatherData.country?"("+e.weatherData.country+")":""),r.a.createElement("h1",null,e.weatherData.currentTemp?e.weatherData.currentTemp+"\xb0":""),r.a.createElement("h1",null,e.weatherData.weatherDesc),r.a.createElement("img",{className:"",src:e.weatherData.weatherIcon?e.weatherData.weatherIcon:""}))},y=(a(32),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleKeyDown=n.handleKeyDown.bind(Object(u.a)(n)),n.state={city:n.props.city,weatherInfo:null,error:!1},n}return Object(s.a)(a,[{key:"handleKeyDown",value:function(e){"Enter"===e.key&&this.props.handleEnter(e.target.value)}},{key:"render",value:function(){var e=this.props.weatherData;return e.length>0&&(e=JSON.parse(e)),r.a.createElement("div",{className:"component-sidebar"},r.a.createElement("h1",{className:"mb-5"},"Today's weather"),r.a.createElement(p,{city:this.state.city,keydown:this.handleKeyDown}),r.a.createElement(d,{weatherData:e}))}}]),a}(r.a.Component));a(33),a(34);var f=function(e){return r.a.createElement("div",{className:""},r.a.createElement("h4",null,e.forecastData.currentTemp?e.forecastData.currentTemp+"\xb0":""),r.a.createElement("p",null,e.forecastData.weatherDesc),r.a.createElement("img",{className:"",src:e.forecastData.weatherIcon?e.forecastData.weatherIcon:"",alt:"Weather Icon"}),r.a.createElement("h4",null,e.forecastData.dayToDisplay),r.a.createElement("h5",null,e.forecastData.hourToDisplay))},w=(a(35),function(e){Object(h.a)(a,e);var t=Object(m.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this.props.forecastData,t=[];return e.length&&(t=(e=JSON.parse(this.props.forecastData)).map((function(e,t){return r.a.createElement("div",{className:"wrapper-thumbnail mt-5 mb-5 ml-2 mr-2 col-xs-6 col-md-6 col-lg-3 col-xl-2 text-center"},r.a.createElement(f,{key:t.toString(),forecastData:e}))}))),r.a.createElement("div",{className:"component-forecast"},r.a.createElement("h1",{className:"text-center"},"Forecast"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},t)))}}]),a}(r.a.Component)),g=function(){function e(){Object(l.a)(this,e),this.capitalize=function(e){return"string"!==typeof e?"":e.charAt(0).toUpperCase()+e.slice(1)},this.apiKey="109ff3545de4ef5f87dacbb3775a0e1f",this.apiUrlWeather="https://api.openweathermap.org/data/2.5/weather",this.apiUrlForecast="https://api.openweathermap.org/data/2.5/forecast",this.defaultCity="Nice",this.weekday={0:"Sunday",1:"Monday",2:"Tuesday",3:"Wednesday",4:"Thursday",5:"Friday",6:"Saturday"}}return Object(s.a)(e,[{key:"getApiKey",value:function(){return this.apiKey}},{key:"getApiUrlWeather",value:function(){return this.apiUrlWeather}},{key:"getApiUrlForecast",value:function(){return this.apiUrlForecast}},{key:"getDefaultCity",value:function(){return this.defaultCity}},{key:"hourToDisplay",value:function(e){var t="";return t+=e.getHours()<10?"0"+e.getHours():e.getHours(),t+=":",t+=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()}},{key:"sanitizeDataWeather",value:function(e){var t={name:e.data.name,currentTemp:e.data.main.temp,weatherDesc:this.capitalize(e.data.weather[0].description),weatherIcon:"http://openweathermap.org/img/wn/"+e.data.weather[0].icon+"@2x.png",country:e.data.sys.country};return JSON.stringify(t)}},{key:"sanitizeDataForecast",value:function(e){for(var t=e.data.list,a=[],n=0;n<8;n++)a.push(this.sanitizeOneDayForecast(t[n]));return JSON.stringify(a)}},{key:"sanitizeOneDayForecast",value:function(e){var t,a,n=new Date(1e3*e.dt),r=new Date,c=new Date(r.getFullYear(),r.getMonth(),r.getDate()+1);if(a=r,(t=n).getFullYear()===a.getFullYear()&&t.getMonth()===a.getMonth()&&t.getDate()===a.getDate())var o="Today";else if(c.getFullYear()==n.getFullYear()&&c.getMonth()==n.getMonth()&&c.getDate()==n.getDate())o="Tomorrow";else o=this.weekday[n.getDay()];return{currentTemp:e.main.temp,weatherDesc:this.capitalize(e.weather[0].description),weatherIcon:"http://openweathermap.org/img/wn/"+e.weather[0].icon+"@2x.png",dayToDisplay:o,hourToDisplay:this.hourToDisplay(n)}}}]),e}(),D=a(4),v=a.n(D),E=(a(65),new g);var b=function(){var e=Object(n.useState)({loading:!1,weatherData:[],forecastData:[],city:null}),t=Object(i.a)(e,2),a=t[0],c=t[1];return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"}),r.a.createElement("body",{className:"App-body"},r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row h-100"},r.a.createElement("div",{className:"col-xs-12 col-md-6 col-lg-4 col-xl-3 mt-3 mb-3 text-center"},r.a.createElement(y,{city:a.city,weatherData:!!a.weatherData&&a.weatherData,handleEnter:function(e){var t=v.a.get("".concat(E.getApiUrlWeather(),"?appid=").concat(E.getApiKey(),"&q=").concat(e,"&units=metric&lang=fr")),a=v.a.get("".concat(E.getApiUrlForecast(),"?appid=").concat(E.getApiKey(),"&q=").concat(e,"&units=metric&lang=fr"));v.a.all([t,a]).then(v.a.spread((function(){var e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1];c({weatherData:E.sanitizeDataWeather(e),forecastData:E.sanitizeDataForecast(t)})}))).catch((function(e){}))}})),r.a.createElement("div",{className:"col-xs-12 col-md-6 col-lg-8 col-xl-9 mt-3 mb-3"},r.a.createElement(w,{city:a.city,forecastData:!!a.forecastData&&a.forecastData}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[24,1,2]]]);
//# sourceMappingURL=main.459258ad.chunk.js.map